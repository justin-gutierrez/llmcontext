# fastapi_hybrid_000_sub_02

**Metadata:** {'strategy': 'hybrid', 'header_level': 1, 'line_count': 7, 'document_id': 'fastapi', 'sub_chunk_index': 2, 'total_sub_chunks': 5}

**Tokens:** 1600-2400

---

; Create a file main.py with: from typing import Union from fastapi import FastAPI app = FastAPI() @app.get(&quot;/&quot;) def read_root(): return {&quot;Hello&quot;: &quot;World&quot;} @app.get(&quot;/items/{item_id}&quot;) def read_item(item_id: int, q: Union[str, None] = None): return {&quot;item_id&quot;: item_id, &quot;q&quot;

: q} Or use async def... If your code uses async / await, use async def: from typing import Union from fastapi import FastAPI app = FastAPI() @app.get(&quot;/&quot;) async def read_root(): return {&quot;Hello&quot;: &quot;World&quot;} @app.get(&quot;/items/{item_id}&quot;) async def read_item(item_id: int, q: Union[str, None] = None): return {&quot;item_id&quot;: item_id, &quot;q&quot;: q} Note: If you don't know, check the "In a hurry?" section about async and await in the docs. Run it&para; Run the server with: $ fastapi dev main.py ╭────────── FastAPI CLI - Development mode ───────────╮ │ │ │ Serving at: http://127.0.0.1:8000 │ │ │ │ API docs: http://127.0.0.1:8000/docs │ │ │ │ Running in development mode, for production use: │ │ │ │ fastapi run │ │ │ ╰─────────────────────────────────────────────────────╯ INFO: Will watch for changes in these directories: [&#39;/home/user/code/awesomeapp&#39;] INFO: Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit) INFO: Started reloader process [2248755] using WatchFiles INFO: Started server process [2248757] INFO: Waiting for application startup. INFO: Application startup complete. About the command fastapi dev main.py... The command fastapi dev reads your main.py file, detects the FastAPI app in it, and starts a server using Uvicorn. By default, fastapi dev will start with auto-reload enabled for local development. You can read more about it in the FastAPI CLI docs. Check it&para; Open your browser at http://127.0.0.1:8000/items/5?q=somequery. You will see the JSON response as: {&quot;item_id&quot;: 5, &quot;q&quot;: &quot;somequery&quot;} You already created an API that: Receives HTTP requests in the paths / and /items/{item_id}. Both paths take GET operations (also known as HTTP methods). The path /items/{item_id} has a path parameter item_id that should be an int. The path /items/{item_id} has an optional str query parameter q. Interactive API docs&para; Now go to http://127.0.0.1:8000/docs. You will see the automatic interactive API documentation (provided by Swagger UI): Alternative API docs&para; And now, go to http://127.0.0.1:8000/redoc. You will see the alternative automatic documentation (provided by ReDoc): Example upgrade&para; Now modify the file main.py to receive a body from a PUT request. Declare the body using standard Python types, thanks to Pydantic. from typing import Union from fastapi import FastAPI from pydantic import BaseModel app = FastAPI() class Item(BaseModel): name: str price: float is_offer: Union[bool, None] = None @app.get(&quot;/&quot;) def read_root(): return {&quot;Hello&quot;: &quot;World&quot;} @app.get(&quot;/items/{item_id}&quot;) def read_item(item_id: int, q: Union[str, None] = None): return {&quot;item_id&quot;: item_id, &quot;q&quot;: q} @app.put(&quot;/items/{item_id}&quot;) def update_item(item_id: int, item: Item): return {&quot;item_name&quot;: